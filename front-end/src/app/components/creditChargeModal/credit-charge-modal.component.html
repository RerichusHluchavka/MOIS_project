<ion-header>
</ion-header>

<ion-content class="ion-padding">
    <ion-list>
        <ion-item>
            <ion-label position="stacked">Částka (Kč)</ion-label>
            <ion-input type="number" [(ngModel)]="amount" placeholder="Zadejte částku v CZK" min="1"></ion-input>
        </ion-item>
    </ion-list>

    <div class="ion-padding-top">
        <h3 class="ion-padding-bottom">Platební údaje</h3>
        <div id="card-element" class="stripe-card-element"></div>
    </div>

    <div *ngIf="stripeError" class="ion-padding-top">
        <ion-label color="danger">{{ stripeError }}</ion-label>
    </div>

</ion-content>

<ion-footer class="ion-padding-start ion-padding-end ion-padding-bottom">
    <ion-button expand="block" (click)="startStripeCheckout()" [disabled]="isProcessing || amount <= 15 || stripeError">
        <ion-spinner *ngIf="isProcessing"></ion-spinner>
        {{ isProcessing ? 'Zpracovávám platbu...' : 'Zaplatit a dobít' }}
    </ion-button>
</ion-footer>